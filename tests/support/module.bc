// ----------------------------------------------------------------------------
//
// Basecode Bootstrap Compiler
// Copyright (C) 2018 Jeff Panici
// All rights reserved.
//
// This software source file is licensed under the terms of MIT license.
// For details, please read the LICENSE file.
//
// ----------------------------------------------------------------------------

@library "basecode";
#foreign print   :: proc(
    format: string,
    ...values: any) @alias "fmt_print";

@intrinsic_name "range";
#intrinsic range_proc :: proc<T>(
    low:  T,
    high: T,
    step: s32 := 1,
    kind: u8  := range::kinds::INCLUSIVE,
    dir:  u8  := range::orders::NORMAL):T;

range :: ns {
    kinds  :: ns {
        INCLUSIVE :: 0;
        EXCLUSIVE :: 1;
    };

    orders :: ns {
        NORMAL    :: 0;
        REVERSE   :: 1;
    };
};

assert :: proc(predicate: bool, message: string) {
    if !predicate {
        print("%s\n", message);
        #assembly {{ exit }};
    };
};