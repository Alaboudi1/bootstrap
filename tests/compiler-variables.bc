support ::= module("support/module.bc");

//text := "hello world!";
//support::print("text.length   := %d\n", text.length);
//support::print("text.capacity := %d\n", text.capacity);
//support::print("text.data     := $%08x\n", text.data);
//
//content := text.data;
//support::print("content       := $%08x\n", content);
//
//i: u32 := 0;
//while i < text.length {
//    support::print("%c", content^);
//    content +:= 1;
//    i +:= 1;
//};
//
//support::print("\n");

vector3 ::= struct {
    x: s32;
    y: s32;
    z: s32;
};

class  ::= struct {
    name: string;
};

entity ::= struct {
    pos: vector3;
    dir: vector3;
    cls: class;
};

player: entity;
//player.pos.x := 10;
//player.pos.y := 5;
//player.pos.z := -6;
//
//support::print("player.pos.x := %d\n", player.pos.x);
//support::print("player.pos.y := %d\n", player.pos.y);
//support::print("player.pos.z := %hhd\n", player.pos.z);
//
//support::print("player.dir.x := %d\n", player.dir.x);
//support::print("player.dir.y := %d\n", player.dir.y);
//support::print("player.dir.z := %d\n", player.dir.z);
//
//support::print("player.cls.name.length   := %d\n", player.cls.name.length);
//support::print("player.cls.name.capacity := %d\n", player.cls.name.capacity);

player_ptr: ^entity;
player_ptr := address_of(player);

//player_ptr.pos.x := 100;
//player_ptr.pos.y := 55;
//player_ptr.pos.z := -106;
//
//support::print("player_ptr.pos.x := %d\n", player_ptr.pos.x);
//support::print("player_ptr.pos.y := %d\n", player_ptr.pos.y);
//support::print("player_ptr.pos.z := %hhd\n", player_ptr.pos.z);