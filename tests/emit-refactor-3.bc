core :: module("core");

test :: proc(): u32 {
    foo: u32;
    bar: u8 := 2;

    foo := 3;
    foo *:= cast<u32>(bar) + 4;

    ptr_to_foo := address_of(foo);

    core::print("foo := %d\n", foo);
    core::print("ptr_to_foo := %016llX\n", ptr_to_foo);

    return foo;
};

#run {
    pow_of_2: u32 := core::next_power_of_two(313);
    core::print("\npow_of_2 := %d\n", pow_of_2);

    result := test();
    core::assert(result == 18, "expected result == 18");
    core::print("\nresult := %d\n", result);
};